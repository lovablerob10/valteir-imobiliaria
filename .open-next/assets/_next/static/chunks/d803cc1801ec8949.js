(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,94179,e=>{"use strict";var a=e.i(43476),t=e.i(25913),s=e.i(86011),r=e.i(47163);let i=(0,t.cva)("inline-flex items-center justify-center rounded-full border border-transparent px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border-border text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground",ghost:"[a&]:hover:bg-accent [a&]:hover:text-accent-foreground",link:"text-primary underline-offset-4 [a&]:hover:underline"}},defaultVariants:{variant:"default"}});function c({className:e,variant:t="default",asChild:c=!1,...n}){let l=c?s.Slot.Root:"span";return(0,a.jsx)(l,{"data-slot":"badge","data-variant":t,className:(0,r.cn)(i({variant:t}),e),...n})}e.s(["Badge",()=>c])},86536,e=>{"use strict";let a=(0,e.i(75254).default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["Eye",()=>a],86536)},71689,e=>{"use strict";let a=(0,e.i(75254).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>a],71689)},3408,e=>{"use strict";let a=(0,e.i(75254).default)("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);e.s(["default",()=>a])},84762,e=>{"use strict";var a=e.i(43476),t=e.i(71645),s=e.i(47163);let r=t.forwardRef(({className:e,...t},r)=>(0,a.jsx)("textarea",{className:(0,s.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));r.displayName="Textarea",e.s(["Textarea",()=>r])},56909,e=>{"use strict";let a=(0,e.i(75254).default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);e.s(["Save",()=>a],56909)},48256,e=>{"use strict";let a=(0,e.i(75254).default)("globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);e.s(["Globe",()=>a],48256)},71649,35501,e=>{"use strict";let a=(0,e.i(75254).default)("type",[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]]);e.s(["Type",()=>a],71649);var t=e.i(3408);e.s(["ImageIcon",()=>t.default],35501)},3247,e=>{"use strict";var a=e.i(43476),t=e.i(71645),s=e.i(20755),r=e.i(18566),i=e.i(71689),c=e.i(56909),n=e.i(31278),l=e.i(71649),d=e.i(48256),o=e.i(35501),u=e.i(86536),x=e.i(67881),m=e.i(23750),p=e.i(84762),h=e.i(46696),g=e.i(22016),f=e.i(62870),b=e.i(94179);function v({params:e}){let{id:v}=(0,t.use)(e),[j,y]=(0,t.useState)(!0),[N,z]=(0,t.useState)(!1),w=(0,r.useRouter)(),k=(0,s.createClient)(),[S,C]=(0,t.useState)({titulo:"",slug:"",resumo:"",conteudo:"",imagem_capa:"",status:"rascunho",meta_title:"",meta_description:""});async function T(){try{let{data:e,error:a}=await k.from("noticias").select("*").eq("id",v).single();if(a)throw a;e&&C(e)}catch(e){h.toast.error("Erro ao carregar notícia: "+e.message),w.push("/admin/noticias")}finally{y(!1)}}async function M(e){e.preventDefault(),z(!0);try{let{error:e}=await k.from("noticias").update(S).eq("id",v);if(e)throw e;h.toast.success("Notícia atualizada!"),w.push("/admin/noticias")}catch(e){h.toast.error("Erro ao salvar: "+e.message)}finally{z(!1)}}return(0,t.useEffect)(()=>{T()},[v]),j?(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center py-40 gap-6",children:[(0,a.jsx)(n.Loader2,{className:"w-12 h-12 text-accent animate-spin"}),(0,a.jsx)("p",{className:"text-zinc-500 font-bold uppercase text-[10px] tracking-[0.3em]",children:"Carregando News..."})]}):(0,a.jsxs)("form",{onSubmit:M,className:"max-w-5xl mx-auto space-y-12 animate-in fade-in slide-in-from-bottom-4 duration-700",children:[(0,a.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6 pb-6 border-b border-zinc-900",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)(g.default,{href:"/admin/noticias",children:(0,a.jsx)(x.Button,{variant:"outline",size:"icon",className:"rounded-full border-zinc-800 hover:bg-zinc-900",children:(0,a.jsx)(i.ArrowLeft,{className:"w-4 h-4"})})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-serif text-white",children:"Editar Notícia"}),(0,a.jsx)("p",{className:"text-zinc-500 text-xs uppercase tracking-widest font-bold mt-1",children:"Refinando conteúdo"})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)(f.Select,{value:S.status,onValueChange:e=>C(a=>({...a,status:e})),children:[(0,a.jsx)(f.SelectTrigger,{className:"w-32 bg-zinc-950 border-zinc-800 h-12 rounded-xl text-zinc-400",children:(0,a.jsx)(f.SelectValue,{placeholder:"Status"})}),(0,a.jsxs)(f.SelectContent,{className:"bg-zinc-950 border-zinc-900",children:[(0,a.jsx)(f.SelectItem,{value:"rascunho",children:"Rascunho"}),(0,a.jsx)(f.SelectItem,{value:"publicado",children:"Publicado"})]})]}),(0,a.jsxs)(x.Button,{disabled:N,className:"bg-accent hover:bg-white text-primary font-bold tracking-[0.2em] uppercase rounded-xl h-12 px-8 flex-1 md:flex-none",children:[N?(0,a.jsx)(n.Loader2,{className:"w-5 h-5 animate-spin"}):(0,a.jsx)(c.Save,{className:"w-5 h-5 mr-2"}),"Salvar Alterações"]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-12",children:[(0,a.jsx)("div",{className:"lg:col-span-2 space-y-10",children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 text-accent mb-2",children:[(0,a.jsx)(l.Type,{className:"w-4 h-4"}),(0,a.jsx)("span",{className:"text-[10px] uppercase font-bold tracking-widest",children:"Informações Básicas"})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("label",{className:"text-zinc-300 text-sm font-medium",children:"Título da Notícia"}),(0,a.jsx)(m.Input,{required:!0,value:S.titulo,onChange:e=>{let a=e.target.value;C(e=>({...e,titulo:a,slug:a.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^\w\s-]/g,"").replace(/\s+/g,"-").replace(/--+/g,"-").trim(),meta_title:a}))},className:"bg-zinc-900/50 border-zinc-800 h-14 text-lg font-serif focus:ring-accent/20"})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("label",{className:"text-zinc-300 text-sm font-medium",children:"Link Permanente (Slug)"}),(0,a.jsxs)("div",{className:"flex items-center gap-3 bg-zinc-900/30 border border-zinc-800 rounded-xl px-4 h-12 opacity-70",children:[(0,a.jsx)("span",{className:"text-zinc-600 text-sm",children:"valteir.com.br/blog/"}),(0,a.jsx)("input",{required:!0,value:S.slug,readOnly:!0,className:"bg-transparent border-none focus:ring-0 text-accent text-sm flex-1 outline-none cursor-not-allowed"})]}),(0,a.jsx)("p",{className:"text-[10px] text-zinc-600 italic",children:"* O slug é gerado automaticamente e não pode ser editado após a criação por segurança de SEO."})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("label",{className:"text-zinc-300 text-sm font-medium",children:"Resumo (Chamada)"}),(0,a.jsx)(p.Textarea,{required:!0,value:S.resumo,onChange:e=>C({...S,resumo:e.target.value}),className:"bg-zinc-900/50 border-zinc-800 min-h-[100px] resize-none focus:ring-accent/20"})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("label",{className:"text-zinc-300 text-sm font-medium",children:"Conteúdo (Texto)"}),(0,a.jsxs)("div",{className:"rounded-xl border border-zinc-800 bg-zinc-900/30 overflow-hidden",children:[(0,a.jsx)("div",{className:"bg-zinc-950 p-3 border-b border-zinc-800 flex gap-2",children:(0,a.jsx)(b.Badge,{variant:"outline",className:"text-[10px] border-zinc-800 uppercase",children:"Markdown Suportado"})}),(0,a.jsx)(p.Textarea,{required:!0,value:S.conteudo,onChange:e=>C({...S,conteudo:e.target.value}),className:"bg-transparent border-none min-h-[400px] focus:ring-0 resize-y p-6"})]})]})]})}),(0,a.jsxs)("div",{className:"space-y-10",children:[(0,a.jsxs)("div",{className:"bg-zinc-900/30 border border-zinc-900 rounded-3xl p-8 flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-white font-bold text-sm tracking-wider uppercase",children:"Visualizar"}),(0,a.jsx)(g.default,{href:`/blog/${S.slug}`,target:"_blank",children:(0,a.jsx)(x.Button,{variant:"outline",size:"icon",className:"rounded-full border-zinc-800",children:(0,a.jsx)(u.Eye,{className:"w-4 h-4"})})})]}),(0,a.jsxs)("div",{className:"bg-zinc-900/30 border border-zinc-900 rounded-3xl p-8 space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 text-accent",children:[(0,a.jsx)(o.ImageIcon,{className:"w-4 h-4"}),(0,a.jsx)("span",{className:"text-[10px] uppercase font-bold tracking-widest",children:"Mídia de Capa"})]}),(0,a.jsx)(m.Input,{value:S.imagem_capa,onChange:e=>C({...S,imagem_capa:e.target.value}),className:"bg-zinc-950 border-zinc-800 h-12"}),(0,a.jsx)("div",{className:"aspect-video bg-zinc-950 rounded-xl border border-dashed border-zinc-800 flex flex-col items-center justify-center overflow-hidden",children:S.imagem_capa&&(0,a.jsx)("img",{src:S.imagem_capa,className:"w-full h-full object-cover",alt:"Preview"})})]}),(0,a.jsxs)("div",{className:"bg-zinc-900/30 border border-zinc-900 rounded-3xl p-8 space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 text-accent",children:[(0,a.jsx)(d.Globe,{className:"w-4 h-4"}),(0,a.jsx)("span",{className:"text-[10px] uppercase font-bold tracking-widest",children:"SEO & Metadata"})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("label",{className:"text-zinc-400 text-xs",children:"Título SEO"}),(0,a.jsx)(m.Input,{value:S.meta_title,onChange:e=>C({...S,meta_title:e.target.value}),maxLength:60,className:"bg-zinc-950 border-zinc-800 h-10 text-xs"})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("label",{className:"text-zinc-400 text-xs",children:"Descrição SEO (Meta)"}),(0,a.jsx)(p.Textarea,{value:S.meta_description,onChange:e=>C({...S,meta_description:e.target.value}),maxLength:160,className:"bg-zinc-950 border-zinc-800 text-xs min-h-[80px] resize-none"})]})]})]})]})]})}e.s(["default",()=>v])}]);